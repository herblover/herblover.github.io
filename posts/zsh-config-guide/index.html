<!DOCTYPE html>
<html lang="ko-kr">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.54.0" />

    
    
    

<title>Z shell with Oh My Zsh Config Guide • Kenny&#39;s Blog</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Z shell with Oh My Zsh Config Guide"/>
<meta name="twitter:description" content="Install and Configure Z shell with Oh My Zsh on Mac OS Sierra"/>

<meta property="og:title" content="Z shell with Oh My Zsh Config Guide" />
<meta property="og:description" content="Install and Configure Z shell with Oh My Zsh on Mac OS Sierra" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.funspaces.org/posts/zsh-config-guide/" />
<meta property="article:published_time" content="2017-02-13T19:08:26&#43;09:00"/>
<meta property="article:modified_time" content="2017-02-13T19:08:26&#43;09:00"/><meta property="og:site_name" content="Kenny" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.6a83d62c39a364f036df4db1ecd564645635d6c7fc182425cb501218fec485f5.css" integrity="sha256-aoPWLDmjZPA2302x7NVkZFY11sf8GCQly1ASGP7EhfU=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">




<link rel="stylesheet" href="/scss/tocbot.126e7d75240acc946d34d6ccb2982ed4c394a5fe34e73e1a2119ca951bcf119d.css" integrity="sha256-Em59dSQKzJRtNNbMspgu1MOUpf405z4aIRnKlRvPEZ0=">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://blog.funspaces.org">Kenny&#39;s Blog</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/d27e059815fc167c428609964d43d9b9?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Kenny&#39;s Blog</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/tags/">
						<span>Tags</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	
	<a href="https://github.com/herblover" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 Kenny
  
    <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1>Z shell with Oh My Zsh Config Guide</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Feb 13, 2017
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/development">development</a>
           
      
          <a class="badge badge-tag" href="/tags/environment">environment</a>
           
      
          <a class="badge badge-tag" href="/tags/zsh">zsh</a>
           
      
          <a class="badge badge-tag" href="/tags/oh-my-zsh">oh my zsh</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
</div>


  </header>
  
  
  <div class="toc-wrapper">
    <input type="checkbox" id="tocToggle">
    <label for="tocToggle">Table of Content</label>
    
      <div class="toc" id="TableOfContents"></div>
    
  </div>
  
  <div class="post">
    

<h2 id="시작하며">시작하며</h2>

<p>MacOS로 작업하는 개발자들이 늘어나고, JavaScript/Python/Ruby등을 사용하는 프로그래머들이 늘어나면서 Shell 작업이 다시 수면위로 떠오른 지 몇년이 지났다. <a href="https://github.com">Github</a> 이후로는 많은 프로젝트가 Git으로 작업하고 있는데, Git를 사용하다 보면 별도 설치해서 사용하는 GUI Client들이 생각보다 불편한 경우가 많아 Shell로 돌아오는 분위기이다. 특히 <a href="https://guides.github.com/introduction/flow/">Github Flow</a>나 <a href="http://jeffkreeftmeijer.com/2010/why-arent-you-using-git-flow/">Git Flow</a>로 공동작업을 하는 경우에는 빈번한 Branch &amp; Merge 작업이 생기기 때문에 GUI Client로 작업하기 불편한 상황을 자주 만나게 된다.</p>

<p>이런식의 Shell 작업이 늘어나면서 당연히 써야 한다고 생각하던 Bash를 Z shell로 교체하는 사람들도 늘어나고 있다. Bash에 특별한 문제가 있는건 아니지만, 좀 더 편한 작업환경을 찾다 보니 Z shell 사용자가 늘어나게 된 것이다.</p>

<h2 id="z-shell-1990년에-나온-shell이-갑자기-왜">Z shell - 1990년에 나온 Shell이 갑자기 왜?</h2>

<p>Z Shell도 아주 오래된 프로젝트이다. <a href="https://www.gnu.org/software/bash/">Bash</a>가 89년이고 <a href="http://www.zsh.org">Z Shell</a>이 90년인 걸 보면 겨우 1년 차이일 뿐이다. 근데 갑자기 왜 Z Shell에 대한 이야기가 나오고 있을까?
Z Shell이 좋다고 주장하는 내용을 보면 대충 다음과 같이 정리가 된다.</p>

<ul>
<li>Bash 보다 Command Prompt가 이쁘다.</li>
<li>History Substring Search가 편하다.</li>
</ul>

<p><a href="http://www.slideshare.net/brendon_jag/why-zsh-is-cooler-than-your-shell">왜 Zsh가 당신이 사용중인 Shell보다 좋을까?</a>에서 Zsh가 가진 여러 장점을 소개하고 있다. Z shell 사용자들이 이야기하는 기본적인 장점들은 모두 소개되어 있으니 한번 읽어볼 만 하다.</p>

<p>좀 더 상세한 장점을 알고 싶으면 <a href="http://code.joejag.com/2014/why-zsh.html">My favorite Zsh features</a>를 참고하도록하자. 이 글에서 설명하고 있는 몇 가지 기능들은 개인적으로 아주 편리하게 쓰고 있다.</p>

<p>기능이 복잡해지면 당연히 설정이 어렵기 마련이다. 기본 설정이 잘 되어 있어야 많은 사용자를 확보할 수 있지만, 개인별 설정이 다양하기로는 Shell도 어디가서 빠지지 않는 법. 이 부분을 잘 해결한 Framework가 <a href="http://ohmyz.sh/">Oh-My-Zsh</a>다.</p>

<h2 id="oh-my-zsh-z-shell을-살린-framework">Oh-My-Zsh - Z shell을 살린 Framework</h2>

<p>Oh-My-Zsh는 <a href="https://www.planetargon.com/about/robby-russell">Robby Russell</a>이 동료들을 위해 만든 Framework다. (이 녀석을 Framework라고 부르는게 맞는지는 모르겠다.) 개발 시작부터 인기를 얻게되는 과정은 <a href="https://medium.com/@robbyrussell/d-oh-my-zsh-af99ca54212c">d&rsquo;Oh My Zsh</a>를 읽어보자. 오픈소스를 시작하는 개발자를 위한 조언까지 친절하게 나와 있다.</p>

<p>2009년 Oh-My-Zsh가 공개된 이후 많은 개발자들이 기본 설치된 Bash에서 Z shell로 변경하였다. 같은 Shell을 공유하는 Server 작업에서는 여전히 몇 가지 문제로 인해 Bash를 주력으로 사용하고 있지만, 로컬 작업에서는 Z shell이 좀 더 편한 개발환경에 도움이 될 거라 확신한다.</p>

<h2 id="주의사항">주의사항</h2>

<p>여기에 장황하게 늘어놔도 어차피 읽지 않는 사람들이 대다수인건 알고 있지만, 그래도 이후에 디버그 하는 사람들을 위해 주의해야 할 부분을 남긴다. 이런 개발환경의 경우 사람마다 많이 다르게 사용중인 경우가 많아 진행 중 문제가 생기면 주의사항을 다시 확인해 보기 바란다.</p>

<ul>
<li>이후로 나오는 모든 설정은 macOS Sierra, Homebrew를 기반으로 하고 있다.</li>
<li>이 글을 쓰고 있는 현재 Homebrew Zsh는 5.3.1 버전이다.</li>
<li>Homebrew 및 Homebrew Cask, Z shell의 설치는 <a href="http://blog.funspaces.org/2016/12/09/sierra-setup/">Sierra Setup</a>을 참고하도록 하자.</li>
<li>Rbenv, Pyenv등의 설정에 대한 이야기들이 나오겠지만, 해당 부분 역시 <a href="http://blog.funspaces.org/2016/12/09/sierra-setup/">Sierra Setup</a>을 참고하도록 하자. 이 글에서는 PROMPT / RPROMPT 등 Z shell &amp; Oh-My-Zsh에 관련된 내용만을 다룬다.</li>
<li>Terminal Emulator는 <a href="https://iterm2.com">iTerm2</a>를 사용한다고 가정한다.</li>
<li><strong>Z shell은 로컬 작업용으로 추천한다.</strong> Server에 기본 값인 Bash를 변경할 때는 꼭 협업하는 사람들과 상의하자. Server에서 공용 계정으로 작업하는 경우가 꽤 많기 때문에 기본값은 가능하면 건드리지 않아야 한다.</li>
</ul>

<h2 id="oh-my-zsh-설치-및-기본-설정">Oh-My-Zsh 설치 및 기본 설정</h2>

<p><a href="http://ohmyz.sh">공식 홈페이지</a>에 따르면 다음과 같다. (2017. 02. 13. 기준)</p>

<h3 id="curl로-설치할-경우">curl로 설치할 경우</h3>

<pre><code class="language-sh">$ sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
</code></pre>

<h3 id="wget으로-설치할-경우">wget으로 설치할 경우</h3>

<pre><code class="language-sh">sh -c &quot;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;
</code></pre>

<p>위와 같이 설치하면 <code>~/.oh-my-zsh</code>디렉토리가 생기면서 관련 파일들이 들어가게 된다. Oh-My-Zsh에서 중요하게 생각하는 것 중 하나가 자동 업데이트이기 때문에 이후로 업데이트에 관해서는 신경쓰지 않아도 된다.</p>

<p>설치 도중 <code>~/.zshrc</code>이 있으면 자동으로 <code>~/.zshrc.pre-oh-my-zsh</code>파일로 백업하니 걱정할 필요 없다. 마지막에 자동으로 Default Shell을 Z shell로 변경하니 <code>chsh</code>명령어도 특별히 신경 쓸 필요 없다.</p>

<p>기본 <code>.zshrc</code>에서 살펴 볼 부분은 <code>ZSH_THEME</code>부분과 <code>plugins</code>부분 두 군데다.</p>

<ul>
<li><code>ZSH_THEME</code>

<ul>
<li>Z shell에서 사용할 테마를 선택하는 부분이다. 기본 값은 <code>robbyrussell</code></li>
<li>Oh My Zsh 설치 후 <code>~/.oh-my-zsh/themes</code> 디렉토리에 기본 지원하는 테마가 설치되어 있다.</li>
<li>2017. 02. 13. 기준 141개 테마가 같이 설치된다.</li>
</ul></li>
<li><code>plugins</code>

<ul>
<li>Z shell에 적용할 plugin들을 선택하는 부분이다. 기본 값은 <code>(git)</code></li>
<li>2017. 02. 13. 기준 232개 plugin이 같이 설치된다.</li>
</ul></li>
</ul>

<p>Oh My Zsh를 사용하면 기본 설정에서 주로 테마와 plugin을 건드리게 된다. 관련하여 좀 더 알아보자.</p>

<h2 id="테마-설정">테마 설정</h2>

<p>Z shell을 로컬 환경에서 주로 사용하도록 추천하는 이유 중 하나는 바로 테마다. 사실 Z shell이라는 익숙하지 않은(비록 Bash와 거의 동일해서 특별히 더 적응할 필요는 없다지만.) Shell로 변경하면서까지 사용하는 이유 절반은 테마 때문이다. 나머지 절반은 plugin일 테고.</p>

<p>Oh My Zsh 기본 테마인 <code>robbyrussell</code>은 아래와 같이 생겼다.</p>

<p><img src="https://cloud.githubusercontent.com/assets/2618447/6316876/710cbb8c-ba03-11e4-90b3-0315d72f270c.jpg" alt="robbyrussell theme" /></p>

<p>국내에서 많이 사용중인 <code>agnoster</code> 테마는 아래와 같이 생겼다.</p>

<p><img src="https://cloud.githubusercontent.com/assets/2618447/6316862/70f58fb6-ba03-11e4-82c9-c083bf9a6574.png" alt="agnoster theme" /></p>

<p>개인적으로는 <a href="https://github.com/bhilburn/powerlevel9k">Powerlevel9k</a> 테마를 추천한다. 아래와 같은 테마이다.</p>

<p><img src="https://camo.githubusercontent.com/80ec23fda88d2f445906a3502690f22827336736/687474703a2f2f692e696d6775722e636f6d2f777942565a51792e676966" alt="Powerlevel9k" /></p>

<h3 id="powerlevel9k">Powerlevel9k</h3>

<p>Powerlevel9k를 추천하는 이유는 다음과 같다.</p>

<ul>
<li><a href="https://github.com/gabrielelana/awesome-terminal-fonts">Awesome Terminal Fonts</a>를 사용할 수 있다.

<ul>
<li><a href="https://github.com/bhilburn/powerlevel9k/wiki/Install-Instructions#option-3-install-awesome-powerline-fonts">Awesome Terminal Fonts 설정</a>을 참고하자. 만약 <code>Homebrew Cask Fonts</code>가 활성화 되어 있다면 <code>brew cask install font-awesome-terminal-fonts</code>로 쉽게 설치할 수 있다. 설치 후 iTerm2 Profile에서 꼭 폰트를 바꿔주도록 하자.</li>
<li><code>.zshrc</code>설정은 위의 링크에 나와 있다. <code>awesome-patched</code>로 설정해 주면 된다.</li>
</ul></li>
<li>PROMPT &amp; RPROMPT 개인화가 편하다.

<ul>
<li><a href="https://github.com/bhilburn/powerlevel9k#prompt-customization">Prompt Customization</a>을 참고하면 된다.</li>
<li>기본 값으로도 충분하고, 많은 사람들이 <a href="https://github.com/bhilburn/powerlevel9k/wiki/Show-Off-Your-Config">Show Off Your Coding</a>에 설정을 공유하고 있다.</li>
</ul></li>
</ul>

<h2 id="plugin">Plugin</h2>

<p>기본값인 <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugin:git">(git)</a>은 Git 작업을 도와주는 Alias들과 PROMPT용 Z shell Function들을 모아 놓은 plugin이다. 아래와 같은 plugin들이 Shell 작업에 많은 도움이 됐다.</p>

<p>별도로 표시되어 있지 않은 플러그인들은 그냥 <code>.zshrc</code>파일에 추가해서 쓰면 된다.</p>

<pre><code class="language-sh">$ vim ~/.zshrc
...
plugins=(git rbenv pyenv)
...
</code></pre>

<ul>
<li><a href="https://github.com/robbyrussell/oh-my-zsh/blob/master/plugins/rbenv/rbenv.plugin.zsh">rbenv</a> plugin

<ul>
<li><a href="https://github.com/rbenv/rbenv">rbenv</a> 사용 시 도움이 되는 plugin 이다. rbenv plugin을 활성화 시키면 별도로 <code>.zshrc</code>파일에 <code>rbenv init</code> 명령을 입력하지 않아도 된다. (입력시 충돌로 이상한 현상이 일어나니 꼭 입력하지 말기 바란다.)</li>
</ul></li>
<li><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins#pyenv">pyenv</a> plugin

<ul>
<li><a href="https://github.com/yyuu/pyenv">pyenv</a> 사용 시 도움이 되는 plugin 이다.</li>
</ul></li>
<li><a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a> plugin

<ul>
<li><a href="http://www.fishshell.com/">Fish shell</a>처럼 자동완성을 해 주는 plugin 이다. 해당 사이트 참고.</li>
<li><a href="https://asciinema.org/a/37390"><img src="https://camo.githubusercontent.com/8135e25b744f29e5fd83964eded4bd255aa1da74/68747470733a2f2f61736369696e656d612e6f72672f612f33373339302e706e67" alt="zsh-autosuggestions plugin" /></a></li>
</ul></li>
<li><a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highligting</a> plugin

<ul>
<li>Z shell 문법 하이라이트 plugin. 상세한 설치 방법은 해당 사이트를 참고하자.</li>
</ul></li>
</ul>

<h2 id="정리하며">정리하며</h2>

<p>개인적으로 사용중인 Z shell 화면은 다음과 같이 생겼다.</p>

<p><img src="/images/zsh_config/powerlevel9k.png" alt="Kenny Zsh Prompt" /></p>

<p>Powerlevel9k 설정은 다음과 같다</p>

<pre><code class="language-sh">POWERLEVEL9K_MODE='awesome-patched'
POWERLEVEL9K_SHORTEN_DIR_LENGTH=3
POWERLEVEL9K_SHORTEN_STRATEGY=&quot;truncate_middle&quot;
POWERLEVEL9K_STATUS_VERBOSE=false
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(status os_icon dir vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(pyenv node_version rbenv time)
POWERLEVEL9K_TIME_FORMAT=&quot;%D{%H:%M} \uE12E&quot;
POWERLEVEL9K_PROMPT_ON_NEWLINE=true
POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=&quot;%{%F{249}%}\u250f&quot;
POWERLEVEL9K_MULTILINE_SECOND_PROMPT_PREFIX=&quot;%{%F{249}%}\u2517%{%F{default}%} &quot;
POWERLEVEL9K_SHOW_CHANGESET=true
POWERLEVEL9K_CHANGESET_HASH_LENGTH=6
</code></pre>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/fix-windows-7-update-issue/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Fix windows 7 update issue</span>
    </a>
    
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'kennygithub';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-71902268-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.js"></script>
<script type="text/javascript">
  if (tocbot) {
    tocbot.init({
      
      tocSelector: '.toc',
      
      contentSelector: '.post',
      
      headingSelector: 'h2, h3, h4',
      collapseDepth: 4
    });
  }
</script>



    



    </body>
</html>
